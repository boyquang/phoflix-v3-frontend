@tailwind utilities;
@import "tailwindcss";
@plugin "@tailwindcss/typography";

/*
  Hướng dẫn thêm / cấu hình màu (Tiếng Việt) - Chi tiết

  Tổng quan ngắn:
  - File này dùng CSS custom properties (biến CSS) để lưu màu chủ đạo
    và có các biến cho background, border, ring, shadow.
  - Các theme được xác định bằng attribute selector: [data-theme="Name"],
    mỗi theme set lại các biến màu.
  - Tailwind vẫn dùng lớp tiện ích, nhưng ta có thể tham chiếu các
    biến CSS trong CSS hoặc cấu hình Tailwind để chuyển biến CSS thành
    màu Tailwind nếu muốn dùng trực tiếp trong lớp tiện ích (xem bên dưới).

  Cách thêm màu mới (bước-by-step):
  1) Thêm biến mặc định trong `@theme` hoặc `:root` (phù hợp nếu muốn
     màu mặc định cho toàn app). Ví dụ thêm màu phụ (accent):

     --color-accent: #ff7a7a;
     --bg-accent: #ff7a7a;
     --border-accent: #ff7a7a;
     --ring-accent: #ff7a7a;

     Ghi chú: đặt tên biến có tiền tố rõ ràng (color-, bg-, border-, ring-, shadow-)
     để dễ quản lý và tái sử dụng.

  2) Thêm một theme cụ thể nếu bạn muốn theme đó có màu khác.
     Ví dụ:

     [data-theme="Sunset"] {
       --color-primary: #ff7a7a;
       --bg-primary: #ff7a7a;
       --border-primary: #ff7a7a;
       --ring-primary: #ff7a7a;
       --shadow-primary: #ff7a7a;
     }

     Sau đó, để bật theme trong HTML/JS, gán attribute `data-theme="Sunset"`
     lên phần tử `html` hoặc `body`.

  3) Sử dụng các biến trong CSS:

     .btn-primary {
       background-color: var(--bg-primary);
       color: var(--foreground);
       border: 1px solid var(--border-primary);
       box-shadow: 0 4px 10px 0 rgba( var(--shadow-primary-rgb, 255,218,125), 0.15 );
     }

     Ghi chú: nếu bạn cần giá trị rgba riêng (với alpha) dễ dùng,
     tạo biến RGB riêng, ví dụ `--color-primary-rgb: 255,218,125;` rồi dùng
     `rgba(var(--color-primary-rgb), 0.15)` để set alpha.

  4) Hướng dẫn cho gradient / text-gradient / shadow đã có sẵn:
     - Các lớp `.text-gradient`, `.bg-primary.linear-gradient` đã được sinh sẵn
       theo từng `data-theme`. Để thêm gradient cho theme mới, copy mẫu
       từ phần các `data-theme` hiện có và thay color bằng mã mới.

  Edge cases / Lưu ý:
  - Nếu muốn dùng alpha (rgba), lưu biến RGB riêng để tránh phải convert hex -> rgba.
  - Biến CSS có scope: nếu set ở `:root` thì toàn app dùng; nếu set ở `[data-theme]`
    thì chỉ khi phần tử cha có attribute đó mới thấy thay đổi.
  - Dùng tên biến thống nhất để dễ tìm và thay thế (ví dụ `--color-xxx`, `--bg-xxx`).

  Ví dụ ngắn gọn (tóm tắt):
  - Thêm biến trong `:root` -> Thêm theme `[data-theme]` -> (tuỳ chọn) map vào
*/

/* Custom properties */
@theme {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --breakpoint-xs: 28.5rem; /* 456px */
  --breakpoint-sm: 40rem; /* 640px */
  --breakpoint-md: 48rem; /* 768px */
  --breakpoint-lg: 64rem; /* 1024px */
  --breakpoint-xl: 80rem; /* 1280px */
  --breakpoint-2xl: 96rem; /* 1536px */
  --breakpoint-3xl: 108.75rem; /* 1740px */
  --breakpoint-4xl: 120rem; /* 1920px */
  /* colors */
  --color-primary: #ffd875;
  /* background */
  --bg-primary: #ffd875;
  /* border */
  --border-primary: #ffd875;
  /* ring */
  --ring-primary: #ffd875;
  /* shadow */
  --shadow-primary: #ffd875;
}

@layer base {
  html {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",
      "Noto Sans", "Liberation Sans", Arial, sans-serif, "Apple Color Emoji",
      "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
  }
}

/* Custom color system */
[data-theme="LavenderDream"] {
  --color-primary: #bfa2ff;
  --bg-primary: #bfa2ff;
  --border-primary: #bfa2ff;
  --ring-primary: #bfa2ff;
  --shadow-primary: #bfa2ff;
}

[data-theme="AquaWave"] {
  --color-primary: #00b4d8;
  --bg-primary: #00b4d8;
  --border-primary: #00b4d8;
  --ring-primary: #00b4d8;
  --shadow-primary: #00b4d8;
}

[data-theme="RoseCine"] {
  --color-primary: #ff4d6d;
  --bg-primary: #ff4d6d;
  --border-primary: #ff4d6d;
  --ring-primary: #ff4d6d;
  --shadow-primary: #ff4d6d;
}

[data-theme="Emerald"] {
  --color-primary: #2dd4bf;
  --bg-primary: #2dd4bf;
  --border-primary: #2dd4bf;
  --ring-primary: #2dd4bf;
  --shadow-primary: #2dd4bf;
}

[data-theme="CobaltCine"] {
  --color-primary: #3b82f6;
  --bg-primary: #3b82f6;
  --border-primary: #3b82f6;
  --ring-primary: #3b82f6;
  --shadow-primary: #3b82f6;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --primary-color: #ffd875;
  --border-color: #ffffff10;
}

.bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(254, 207, 89, 1),
    rgba(255, 241, 204, 1)
  );
}

[data-theme="LavenderDream"] .bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(191, 162, 255, 1),
    rgba(229, 223, 255, 1)
  );
}

[data-theme="AquaWave"] .bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(0, 180, 216, 1),
    rgba(204, 242, 255, 1)
  );
}

[data-theme="RoseCine"] .bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(255, 77, 109, 1),
    rgba(255, 204, 214, 1)
  );
}

[data-theme="Emerald"] .bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(45, 212, 191, 1),
    rgba(204, 255, 251, 1)
  );
}

[data-theme="CobaltCine"] .bg-primary.linear-gradient {
  background: linear-gradient(
    39deg,
    rgba(59, 130, 246, 1),
    rgba(191, 219, 254, 1)
  );
}

.text-gradient {
  background: linear-gradient(
    39deg,
    rgba(254, 207, 89, 1),
    rgba(255, 241, 204, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="LavenderDream"] .text-gradient {
  background: linear-gradient(
    39deg,
    rgba(191, 162, 255, 1),
    rgba(229, 223, 255, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
[data-theme="AquaWave"] .text-gradient {
  background: linear-gradient(
    39deg,
    rgba(0, 180, 216, 1),
    rgba(204, 242, 255, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="RoseCine"] .text-gradient {
  background: linear-gradient(
    39deg,
    rgba(255, 77, 109, 1),
    rgba(255, 204, 214, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="Emerald"] .text-gradient {
  background: linear-gradient(
    39deg,
    rgba(45, 212, 191, 1),
    rgba(204, 255, 251, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

[data-theme="CobaltCine"] .text-gradient {
  background: linear-gradient(
    39deg,
    rgba(59, 130, 246, 1),
    rgba(191, 219, 254, 1)
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient-primary {
  background: radial-gradient(
      50% 124.93% at 95.86% -10%,
      #3efad9 0,
      hsla(0, 0%, 100%, 0) 100%
    ),
    linear-gradient(91.56deg, #ff9357 1.54%, #9100ff 98.71%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.text-gradient {
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  text-fill-color: transparent !important;
}

.border-gradient-primary {
  background: linear-gradient(white, white) padding-box,
    radial-gradient(
      50% 124.93% at 95.86% -10%,
      #3efad9 0%,
      rgba(255, 255, 255, 0) 100%
    ),
    linear-gradient(91.56deg, #ff9357 1.54%, #9100ff 98.71%) border-box;
}

/* Box shadow */
.shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(255, 218, 125, 0.15);
}

[data-theme="LavenderDream"] .shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(191, 162, 255, 0.15);
}

[data-theme="AquaWave"] .shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(0, 180, 216, 0.15);
}

[data-theme="RoseCine"] .shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(255, 77, 109, 0.15);
}

[data-theme="Emerald"] .shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(45, 212, 191, 0.15);
}

[data-theme="CobaltCine"] .shadow-primary:hover {
  box-shadow: 0 5px 10px 10px rgba(59, 130, 246, 0.15);
}

.rounded-inherit {
  border-radius: inherit;
}

/* Swiper overflow fix */
.movie-slider .swiper,
.topic-cards .swiper {
  overflow: hidden;
  padding-top: 1rem;
}

@media screen and (max-width: 1024px) {
  .movie-slider .swiper,
  .topic-cards .swiper {
    overflow: visible;
  }
}

body {
  color: var(--foreground);
  background: #191b24;
}

body.cinema-mode .focus-backdrop {
  display: block;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #08080a;
  z-index: 100;
}

body.cinema-mode .watch-player {
  z-index: 101;
  position: relative;
}

body.repose-user {
  overflow: hidden;
}

.reduce-motion * {
  animation: none !important;
  transition: none !important;
}

.focus-backdrop {
  display: none;
}

.shadow-sub:hover {
  box-shadow: 0 5px 10px 10px rgba(255, 255, 255, 0.15);
}

.shadow-review-button:hover {
  box-shadow: 0 5px 10px 10px #3556b626;
}

.bars-loading {
  width: 32px;
  aspect-ratio: 1;
  --c: no-repeat linear-gradient(#ffffff30 0 0);
  background: var(--c) 0% 50%, var(--c) 50% 50%, var(--c) 100% 50%;
  background-size: 20% 100%;
  animation: bars-loading 1s infinite linear;
}

@keyframes bars-loading {
  0% {
    background-size: 20% 100%, 20% 100%, 20% 100%;
  }
  33% {
    background-size: 20% 10%, 20% 100%, 20% 100%;
  }
  50% {
    background-size: 20% 100%, 20% 10%, 20% 100%;
  }
  66% {
    background-size: 20% 100%, 20% 100%, 20% 10%;
  }
  100% {
    background-size: 20% 100%, 20% 100%, 20% 100%;
  }
}

.fade-bottom {
  -webkit-mask-image: linear-gradient(to bottom, black 60%, transparent);
  mask-image: linear-gradient(to bottom, black 60%, transparent);
}

input[type="time"]::-webkit-calendar-picker-indicator {
  filter: brightness(0) invert(1);
}

.fade-right-mask {
  -webkit-mask-image: linear-gradient(270deg, black 0, transparent 95%);
  mask-image: linear-gradient(270deg, black 0, transparent 95%);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

.light-blur {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  height: 350px;
  background-color: #fff8;
  filter: blur(100px);
  top: -150px;
  border-radius: 50%;
  animation: light-blur 3s infinite;
}

@keyframes light-blur {
  0% {
    background-color: #fffa;
  }

  33% {
    background-color: #db586e;
  }

  66% {
    background-color: #6477c2;
  }

  to {
    background-color: #fffa;
  }
}

@keyframes gradient-move {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.gradient-move {
  animation: gradient-move 6s ease infinite;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.fade-in {
  animation: fade-in 0.3s ease-in forwards;
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.fade-out {
  animation: fade-out 0.3s ease-in forwards;
}

@keyframes count-time {
  0% {
    transform: rotate(0);
  }

  50% {
    transform: rotate(90deg);
  }

  to {
    transform: rotate(180deg);
  }
}

.count-time {
  animation: count-time 1s infinite;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.slide-in {
  animation: slideInLeft 0.5s ease-out forwards;
}

@keyframes qtip-animation {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

.tooltip-animation {
  animation: 0.3s ease 1 normal forwards running qtip-animation;
}

@keyframes marquee {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(-100%);
  }
}

.marquee {
  width: 100%;
  white-space: nowrap;
  overflow: hidden;
  display: inline-block;
  animation: marquee 10s linear infinite;
}

.mine {
  padding: 1rem;
  border-radius: 0.75rem;
  animation: flash 1s forwards;
  animation-delay: 1s;
}

@media (max-width: 768px) {
  .mine {
    padding: 0.5rem;
  }
}

@keyframes flash {
  0% {
    background-color: transparent;
  }
  50% {
    background-color: #ffffff20;
  }
  100% {
    background-color: #ffffff10;
  }
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.effect-fade-in {
  animation: fadeInUp 0.5s ease-out forwards;
}

.logo-load {
  animation: logo-load 1.5s forwards;
}

@keyframes logo-load {
  0% {
    transform: scale(1.05);
  }

  60% {
    transform: scale(1);
    opacity: 1;
  }

  80% {
    transform: scale(0.6);
    opacity: 0;
  }

  to {
    opacity: 0;
  }
}

@keyframes blink {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.blink {
  animation: blink 1s infinite;
}

@keyframes live-flash {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

.live-flash {
  animation: live-flash 1s infinite;
}

@keyframes live-avatar {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.1);
  }

  to {
    transform: scale(1);
  }
}

.live-avatar {
  animation: live-avatar 1s infinite;
}

@keyframes shake {
  0% {
    transform: rotate(0deg);
  }
  20% {
    transform: rotate(-15deg);
  }
  40% {
    transform: rotate(10deg);
  }
  60% {
    transform: rotate(-10deg);
  }
  80% {
    transform: rotate(6deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

.shake-bell {
  animation: shake 0.8s ease-in-out infinite;
  transform-origin: top center;
}

@keyframes base-load {
  0% {
    opacity: 0;
  }

  to {
    opacity: 1;
    overflow: unset;
    height: auto;
  }
}

.base-load {
  animation: base-load 2s forwards;
  overflow: hidden;
  width: 100%;
  height: 100vh;
  animation-delay: 1s;
}

.top-up .swiper-slide:nth-child(odd) .top-movie-mask,
.top-up .swiper-slide:nth-child(odd) img {
  border-radius: 0;
  -webkit-clip-path: polygon(
    94.239% 100%,
    5.761% 100%,
    5.761% 100%,
    4.826% 99.95%,
    3.94% 99.803%,
    3.113% 99.569%,
    2.358% 99.256%,
    1.687% 98.87%,
    1.111% 98.421%,
    0.643% 97.915%,
    0.294% 97.362%,
    0.075% 96.768%,
    0 96.142%,
    0 3.858%,
    0 3.858%,
    0.087% 3.185%,
    0.338% 2.552%,
    0.737% 1.968%,
    1.269% 1.442%,
    1.92% 0.984%,
    2.672% 0.602%,
    3.512% 0.306%,
    4.423% 0.105%,
    5.391% 0.008%,
    6.4% 0.024%,
    94.879% 6.625%,
    94.879% 6.625%,
    95.731% 6.732%,
    96.532% 6.919%,
    97.272% 7.178%,
    97.942% 7.503%,
    98.533% 7.887%,
    99.038% 8.323%,
    99.445% 8.805%,
    99.747% 9.326%,
    99.935% 9.88%,
    100% 10.459%,
    100% 96.142%,
    100% 96.142%,
    99.925% 96.768%,
    99.706% 97.362%,
    99.357% 97.915%,
    98.889% 98.421%,
    98.313% 98.87%,
    97.642% 99.256%,
    96.887% 99.569%,
    96.06% 99.803%,
    95.174% 99.95%,
    94.239% 100%
  );
  clip-path: polygon(
    94.239% 100%,
    5.761% 100%,
    5.761% 100%,
    4.826% 99.95%,
    3.94% 99.803%,
    3.113% 99.569%,
    2.358% 99.256%,
    1.687% 98.87%,
    1.111% 98.421%,
    0.643% 97.915%,
    0.294% 97.362%,
    0.075% 96.768%,
    0 96.142%,
    0 3.858%,
    0 3.858%,
    0.087% 3.185%,
    0.338% 2.552%,
    0.737% 1.968%,
    1.269% 1.442%,
    1.92% 0.984%,
    2.672% 0.602%,
    3.512% 0.306%,
    4.423% 0.105%,
    5.391% 0.008%,
    6.4% 0.024%,
    94.879% 6.625%,
    94.879% 6.625%,
    95.731% 6.732%,
    96.532% 6.919%,
    97.272% 7.178%,
    97.942% 7.503%,
    98.533% 7.887%,
    99.038% 8.323%,
    99.445% 8.805%,
    99.747% 9.326%,
    99.935% 9.88%,
    100% 10.459%,
    100% 96.142%,
    100% 96.142%,
    99.925% 96.768%,
    99.706% 97.362%,
    99.357% 97.915%,
    98.889% 98.421%,
    98.313% 98.87%,
    97.642% 99.256%,
    96.887% 99.569%,
    96.06% 99.803%,
    95.174% 99.95%,
    94.239% 100%
  );
}

.top-up .swiper-slide:nth-child(even) .top-movie-mask,
.top-up .swiper-slide:nth-child(even) img {
  border-radius: 0;
  -webkit-clip-path: polygon(
    5.761% 100%,
    94.239% 100%,
    94.239% 100%,
    95.174% 99.95%,
    96.06% 99.803%,
    96.887% 99.569%,
    97.642% 99.256%,
    98.313% 98.87%,
    98.889% 98.421%,
    99.357% 97.915%,
    99.706% 97.362%,
    99.925% 96.768%,
    100% 96.142%,
    100% 3.858%,
    100% 3.858%,
    99.913% 3.185%,
    99.662% 2.552%,
    99.263% 1.968%,
    98.731% 1.442%,
    98.08% 0.984%,
    97.328% 0.602%,
    96.488% 0.306%,
    95.577% 0.105%,
    94.609% 0.008%,
    93.6% 0.024%,
    5.121% 6.625%,
    5.121% 6.625%,
    4.269% 6.732%,
    3.468% 6.919%,
    2.728% 7.178%,
    2.058% 7.503%,
    1.467% 7.887%,
    0.962% 8.323%,
    0.555% 8.805%,
    0.253% 9.326%,
    0.065% 9.88%,
    0 10.459%,
    0 96.142%,
    0 96.142%,
    0.075% 96.768%,
    0.294% 97.362%,
    0.643% 97.915%,
    1.111% 98.421%,
    1.687% 98.87%,
    2.358% 99.256%,
    3.113% 99.569%,
    3.94% 99.803%,
    4.826% 99.95%,
    5.761% 100%
  );
  clip-path: polygon(
    5.761% 100%,
    94.239% 100%,
    94.239% 100%,
    95.174% 99.95%,
    96.06% 99.803%,
    96.887% 99.569%,
    97.642% 99.256%,
    98.313% 98.87%,
    98.889% 98.421%,
    99.357% 97.915%,
    99.706% 97.362%,
    99.925% 96.768%,
    100% 96.142%,
    100% 3.858%,
    100% 3.858%,
    99.913% 3.185%,
    99.662% 2.552%,
    99.263% 1.968%,
    98.731% 1.442%,
    98.08% 0.984%,
    97.328% 0.602%,
    96.488% 0.306%,
    95.577% 0.105%,
    94.609% 0.008%,
    93.6% 0.024%,
    5.121% 6.625%,
    5.121% 6.625%,
    4.269% 6.732%,
    3.468% 6.919%,
    2.728% 7.178%,
    2.058% 7.503%,
    1.467% 7.887%,
    0.962% 8.323%,
    0.555% 8.805%,
    0.253% 9.326%,
    0.065% 9.88%,
    0 10.459%,
    0 96.142%,
    0 96.142%,
    0.075% 96.768%,
    0.294% 97.362%,
    0.643% 97.915%,
    1.111% 98.421%,
    1.687% 98.87%,
    2.358% 99.256%,
    3.113% 99.569%,
    3.94% 99.803%,
    4.826% 99.95%,
    5.761% 100%
  );
}
